2024-09-11 13:14:42,270 DEBUG [http-nio-9999-exec-9] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] 
GET "/api/v2/GetBillsDetails?ccbAccount=7566073616&months=1", parameters={masked}
2024-09-11 13:14:42,274 DEBUG [http-nio-9999-exec-9] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:531] 
Mapped to com.diam.app.controller.DiamControllerVer2#getBillDetails(String, String, HttpServletRequest, HttpServletResponse, Map)
2024-09-11 13:14:42,274 INFO [http-nio-9999-exec-9] c.d.a.i.BaseInterceptor [BaseInterceptor.java:53] 
Inside prehandle
2024-09-11 13:14:42,274 INFO [http-nio-9999-exec-9] c.d.a.i.BaseInterceptor [BaseInterceptor.java:233] 
############Request Processing started for request-id ab and esbURL is /api/v2/GetBillsDetails
2024-09-11 13:14:42,275 INFO [http-nio-9999-exec-9] c.d.a.f.GetDetails [GetDetails.java:20] 
Inside getEncryption status.. for service code GetBillsDetails
2024-09-11 13:14:43,278 DEBUG [http-nio-9999-exec-9] c.d.a.f.GetDetails [GetDetails.java:33] 
Encryption status is N
2024-09-11 13:14:43,280 INFO [http-nio-9999-exec-9] c.d.a.i.BaseInterceptor [BaseInterceptor.java:270] 
Inside DDOS filtering
2024-09-11 13:14:43,281 INFO [http-nio-9999-exec-9] c.d.a.f.GetDetails [GetDetails.java:170] 
Inside get error codes.
2024-09-11 13:14:44,371 INFO [http-nio-9999-exec-9] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:30] 
inside request param validation
2024-09-11 13:14:44,371 INFO [http-nio-9999-exec-9] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:76] 
In Timestamp validation
2024-09-11 13:14:44,371 INFO [http-nio-9999-exec-9] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:82] 
The timestamp difference is--
2024-09-11 13:14:44,372 ERROR [http-nio-9999-exec-9] c.d.a.i.BaseInterceptor [BaseInterceptor.java:334] 
Invalid timestamp
2024-09-11 13:14:44,372 INFO [http-nio-9999-exec-9] c.d.a.p.ExceptionProcessor [ExceptionProcessor.java:28] 
Auditing records in AuditDataProcessor.
2024-09-11 13:14:45,439 INFO [pool-45-thread-1] c.d.a.p.ExceptionProcessor [ExceptionProcessor.java:80] 
Auditing in database.
2024-09-11 13:14:45,442 DEBUG [http-nio-9999-exec-9] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] 
Completed 200 OK
2024-09-11 13:15:12,751 DEBUG [http-nio-9999-exec-6] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] 
GET "/api/v2/GetBillsDetails?ccbAccount=7566073616&months=1", parameters={masked}
2024-09-11 13:15:12,752 DEBUG [http-nio-9999-exec-6] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:531] 
Mapped to com.diam.app.controller.DiamControllerVer2#getBillDetails(String, String, HttpServletRequest, HttpServletResponse, Map)
2024-09-11 13:15:12,752 INFO [http-nio-9999-exec-6] c.d.a.i.BaseInterceptor [BaseInterceptor.java:53] 
Inside prehandle
2024-09-11 13:15:12,752 INFO [http-nio-9999-exec-6] c.d.a.i.BaseInterceptor [BaseInterceptor.java:233] 
############Request Processing started for request-id ab and esbURL is /api/v2/GetBillsDetails
2024-09-11 13:15:12,753 INFO [http-nio-9999-exec-6] c.d.a.f.GetDetails [GetDetails.java:20] 
Inside getEncryption status.. for service code GetBillsDetails
2024-09-11 13:15:12,822 DEBUG [http-nio-9999-exec-6] c.d.a.f.GetDetails [GetDetails.java:33] 
Encryption status is N
2024-09-11 13:15:12,825 INFO [http-nio-9999-exec-6] c.d.a.i.BaseInterceptor [BaseInterceptor.java:270] 
Inside DDOS filtering
2024-09-11 13:15:12,825 INFO [http-nio-9999-exec-6] c.d.a.f.GetDetails [GetDetails.java:170] 
Inside get error codes.
2024-09-11 13:15:12,895 INFO [http-nio-9999-exec-6] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:30] 
inside request param validation
2024-09-11 13:15:12,896 INFO [http-nio-9999-exec-6] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:76] 
In Timestamp validation
2024-09-11 13:15:12,896 INFO [http-nio-9999-exec-6] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:82] 
The timestamp difference is--
2024-09-11 13:15:12,896 INFO [http-nio-9999-exec-6] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:122] 
Validating auth key for consumerCode ESP with auth key 36997d562e054a318475c4025b913338
2024-09-11 13:15:12,896 INFO [http-nio-9999-exec-6] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-09-11 13:15:12,972 INFO [http-nio-9999-exec-6] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:124] 
Auth Key from DB for Consumer code ESP is  36997d562e054a318475c4025b913338
2024-09-11 13:15:12,973 INFO [http-nio-9999-exec-6] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-09-11 13:15:13,036 INFO [http-nio-9999-exec-6] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:175] 
Whitelisted
2024-09-11 13:15:13,036 INFO [http-nio-9999-exec-6] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:187] 
Inside is whiteListed
2024-09-11 13:15:13,102 DEBUG [http-nio-9999-exec-6] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:234] 
Consumer allowed for GetBillsDetails
2024-09-11 13:15:13,107 DEBUG [http-nio-9999-exec-6] o.s.w.m.HandlerMethod [InvocableHandlerMethod.java:231] 
Could not resolve parameter [1] in public org.springframework.http.ResponseEntity<java.lang.String> com.diam.app.controller.DiamControllerVer2.getBillDetails(java.lang.String,java.lang.String,jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse,java.util.Map<java.lang.String, java.lang.String>) throws java.lang.Exception: Required request parameter 'Months' for method parameter type String is not present
2024-09-11 13:15:13,108 DEBUG [http-nio-9999-exec-6] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:420] 
Using @ExceptionHandler com.diam.app.exception.GlobalExceptionHandler#handleMissingParams(MissingServletRequestParameterException)
2024-09-11 13:15:13,108 DEBUG [http-nio-9999-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:275] 
Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-09-11 13:15:13,108 DEBUG [http-nio-9999-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] 
Writing ["<?xml version="1.0" encoding="UTF-8" ?><response><responseHeader><esbStatus>FAILURE</esbStatus></res (truncated)..."]
2024-09-11 13:15:13,111 DEBUG [http-nio-9999-exec-6] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java:179] 
Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'Months' for method parameter type String is not present]
2024-09-11 13:15:13,112 INFO [http-nio-9999-exec-6] c.d.a.p.AuditLogProcessor [AuditLogProcessor.java:31] 
Auditing records in AuditData Processor.
2024-09-11 13:15:13,203 INFO [pool-46-thread-1] c.d.a.p.AuditLogProcessor [AuditLogProcessor.java:83] 
Auditing in database.
2024-09-11 13:15:13,206 DEBUG [http-nio-9999-exec-6] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] 
Completed 400 BAD_REQUEST
2024-09-11 13:17:13,476 DEBUG [http-nio-9999-exec-1] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] 
GET "/api/v2/GetGroupBillsInfo?year=2020&month=11&groupId=3435", parameters={masked}
2024-09-11 13:17:13,478 DEBUG [http-nio-9999-exec-1] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:531] 
Mapped to com.diam.app.controller.DiamControllerVer2#getGroupBillInfo(String, String, String, HttpServletRequest, HttpServletResponse, Map)
2024-09-11 13:17:13,478 INFO [http-nio-9999-exec-1] c.d.a.i.BaseInterceptor [BaseInterceptor.java:53] 
Inside prehandle
2024-09-11 13:17:13,479 INFO [http-nio-9999-exec-1] c.d.a.i.BaseInterceptor [BaseInterceptor.java:233] 
############Request Processing started for request-id ab and esbURL is /api/v2/GetGroupBillsInfo
2024-09-11 13:17:13,479 INFO [http-nio-9999-exec-1] c.d.a.f.GetDetails [GetDetails.java:20] 
Inside getEncryption status.. for service code GetGroupBillsInfo
2024-09-11 13:17:13,551 DEBUG [http-nio-9999-exec-1] c.d.a.f.GetDetails [GetDetails.java:33] 
Encryption status is N
2024-09-11 13:17:13,554 INFO [http-nio-9999-exec-1] c.d.a.i.BaseInterceptor [BaseInterceptor.java:270] 
Inside DDOS filtering
2024-09-11 13:17:13,555 INFO [http-nio-9999-exec-1] c.d.a.f.GetDetails [GetDetails.java:170] 
Inside get error codes.
2024-09-11 13:17:13,637 INFO [http-nio-9999-exec-1] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:30] 
inside request param validation
2024-09-11 13:17:13,638 INFO [http-nio-9999-exec-1] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:76] 
In Timestamp validation
2024-09-11 13:17:13,638 INFO [http-nio-9999-exec-1] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:82] 
The timestamp difference is--
2024-09-11 13:17:13,638 ERROR [http-nio-9999-exec-1] c.d.a.i.BaseInterceptor [BaseInterceptor.java:334] 
Invalid timestamp
2024-09-11 13:17:13,638 INFO [http-nio-9999-exec-1] c.d.a.p.ExceptionProcessor [ExceptionProcessor.java:28] 
Auditing records in AuditDataProcessor.
2024-09-11 13:17:13,733 INFO [pool-47-thread-1] c.d.a.p.ExceptionProcessor [ExceptionProcessor.java:80] 
Auditing in database.
2024-09-11 13:17:13,749 DEBUG [http-nio-9999-exec-1] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] 
Completed 200 OK
2024-09-11 13:17:36,044 DEBUG [http-nio-9999-exec-4] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] 
GET "/api/v2/GetGroupBillsInfo?year=2020&month=11&groupId=3435", parameters={masked}
2024-09-11 13:17:36,044 DEBUG [http-nio-9999-exec-4] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:531] 
Mapped to com.diam.app.controller.DiamControllerVer2#getGroupBillInfo(String, String, String, HttpServletRequest, HttpServletResponse, Map)
2024-09-11 13:17:36,045 INFO [http-nio-9999-exec-4] c.d.a.i.BaseInterceptor [BaseInterceptor.java:53] 
Inside prehandle
2024-09-11 13:17:36,045 INFO [http-nio-9999-exec-4] c.d.a.i.BaseInterceptor [BaseInterceptor.java:233] 
############Request Processing started for request-id ab and esbURL is /api/v2/GetGroupBillsInfo
2024-09-11 13:17:36,045 INFO [http-nio-9999-exec-4] c.d.a.f.GetDetails [GetDetails.java:20] 
Inside getEncryption status.. for service code GetGroupBillsInfo
2024-09-11 13:17:36,137 DEBUG [http-nio-9999-exec-4] c.d.a.f.GetDetails [GetDetails.java:33] 
Encryption status is N
2024-09-11 13:17:36,138 INFO [http-nio-9999-exec-4] c.d.a.i.BaseInterceptor [BaseInterceptor.java:270] 
Inside DDOS filtering
2024-09-11 13:17:36,139 INFO [http-nio-9999-exec-4] c.d.a.f.GetDetails [GetDetails.java:170] 
Inside get error codes.
2024-09-11 13:17:36,239 INFO [http-nio-9999-exec-4] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:30] 
inside request param validation
2024-09-11 13:17:36,240 INFO [http-nio-9999-exec-4] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:76] 
In Timestamp validation
2024-09-11 13:17:36,240 INFO [http-nio-9999-exec-4] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:82] 
The timestamp difference is--
2024-09-11 13:17:36,240 INFO [http-nio-9999-exec-4] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:122] 
Validating auth key for consumerCode ESP with auth key 36997d562e054a318475c4025b913338
2024-09-11 13:17:36,241 INFO [http-nio-9999-exec-4] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-09-11 13:17:36,360 INFO [http-nio-9999-exec-4] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:124] 
Auth Key from DB for Consumer code ESP is  36997d562e054a318475c4025b913338
2024-09-11 13:17:36,360 INFO [http-nio-9999-exec-4] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-09-11 13:17:36,447 INFO [http-nio-9999-exec-4] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:175] 
Whitelisted
2024-09-11 13:17:36,447 INFO [http-nio-9999-exec-4] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:187] 
Inside is whiteListed
2024-09-11 13:17:36,555 DEBUG [http-nio-9999-exec-4] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:234] 
Consumer allowed for GetGroupBillsInfo
2024-09-11 13:17:36,559 DEBUG [http-nio-9999-exec-4] o.s.w.m.HandlerMethod [InvocableHandlerMethod.java:231] 
Could not resolve parameter [2] in public org.springframework.http.ResponseEntity<java.lang.String> com.diam.app.controller.DiamControllerVer2.getGroupBillInfo(java.lang.String,java.lang.String,java.lang.String,jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse,java.util.Map<java.lang.String, java.lang.String>) throws java.lang.Exception: Required request parameter 'GroupId' for method parameter type String is not present
2024-09-11 13:17:36,559 DEBUG [http-nio-9999-exec-4] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:420] 
Using @ExceptionHandler com.diam.app.exception.GlobalExceptionHandler#handleMissingParams(MissingServletRequestParameterException)
2024-09-11 13:17:36,560 DEBUG [http-nio-9999-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:275] 
Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-09-11 13:17:36,560 DEBUG [http-nio-9999-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] 
Writing ["<?xml version="1.0" encoding="UTF-8" ?><response><responseHeader><esbStatus>FAILURE</esbStatus></res (truncated)..."]
2024-09-11 13:17:36,561 DEBUG [http-nio-9999-exec-4] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java:179] 
Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'GroupId' for method parameter type String is not present]
2024-09-11 13:17:36,561 INFO [http-nio-9999-exec-4] c.d.a.p.AuditLogProcessor [AuditLogProcessor.java:31] 
Auditing records in AuditData Processor.
2024-09-11 13:17:36,705 INFO [pool-48-thread-1] c.d.a.p.AuditLogProcessor [AuditLogProcessor.java:83] 
Auditing in database.
2024-09-11 13:17:36,733 DEBUG [http-nio-9999-exec-4] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] 
Completed 400 BAD_REQUEST
