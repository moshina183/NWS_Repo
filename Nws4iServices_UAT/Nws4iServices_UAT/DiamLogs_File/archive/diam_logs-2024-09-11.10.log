2024-09-11 13:10:49,368 DEBUG [http-nio-9999-exec-2] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] 
GET "/api/v2/GetBill64?BID=52344070&ccbAccount=7566073616", parameters={masked}
2024-09-11 13:10:49,374 DEBUG [http-nio-9999-exec-2] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:531] 
Mapped to com.diam.app.controller.DiamControllerVer2#getBill64(String, String, HttpServletRequest, HttpServletResponse, Map)
2024-09-11 13:10:49,375 INFO [http-nio-9999-exec-2] c.d.a.i.BaseInterceptor [BaseInterceptor.java:53] 
Inside prehandle
2024-09-11 13:10:49,375 INFO [http-nio-9999-exec-2] c.d.a.i.BaseInterceptor [BaseInterceptor.java:233] 
############Request Processing started for request-id ab and esbURL is /api/v2/GetBill64
2024-09-11 13:10:49,379 INFO [http-nio-9999-exec-2] c.d.a.f.GetDetails [GetDetails.java:20] 
Inside getEncryption status.. for service code GetBill64
2024-09-11 13:10:49,454 DEBUG [http-nio-9999-exec-2] c.d.a.f.GetDetails [GetDetails.java:33] 
Encryption status is N
2024-09-11 13:10:49,457 INFO [http-nio-9999-exec-2] c.d.a.i.BaseInterceptor [BaseInterceptor.java:270] 
Inside DDOS filtering
2024-09-11 13:10:49,457 INFO [http-nio-9999-exec-2] c.d.a.f.GetDetails [GetDetails.java:170] 
Inside get error codes.
2024-09-11 13:10:49,540 INFO [http-nio-9999-exec-2] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:30] 
inside request param validation
2024-09-11 13:10:49,541 INFO [http-nio-9999-exec-2] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:76] 
In Timestamp validation
2024-09-11 13:10:49,541 INFO [http-nio-9999-exec-2] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:82] 
The timestamp difference is--
2024-09-11 13:10:49,541 ERROR [http-nio-9999-exec-2] c.d.a.i.BaseInterceptor [BaseInterceptor.java:334] 
Invalid timestamp
2024-09-11 13:10:49,541 INFO [http-nio-9999-exec-2] c.d.a.p.ExceptionProcessor [ExceptionProcessor.java:28] 
Auditing records in AuditDataProcessor.
2024-09-11 13:10:49,777 INFO [pool-41-thread-1] c.d.a.p.ExceptionProcessor [ExceptionProcessor.java:80] 
Auditing in database.
2024-09-11 13:10:49,815 DEBUG [http-nio-9999-exec-2] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] 
Completed 200 OK
2024-09-11 13:11:10,436 DEBUG [http-nio-9999-exec-3] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] 
GET "/api/v2/GetBill64?BID=52344070&ccbAccount=7566073616", parameters={masked}
2024-09-11 13:11:10,436 DEBUG [http-nio-9999-exec-3] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:531] 
Mapped to com.diam.app.controller.DiamControllerVer2#getBill64(String, String, HttpServletRequest, HttpServletResponse, Map)
2024-09-11 13:11:10,437 INFO [http-nio-9999-exec-3] c.d.a.i.BaseInterceptor [BaseInterceptor.java:53] 
Inside prehandle
2024-09-11 13:11:10,437 INFO [http-nio-9999-exec-3] c.d.a.i.BaseInterceptor [BaseInterceptor.java:233] 
############Request Processing started for request-id ab and esbURL is /api/v2/GetBill64
2024-09-11 13:11:10,437 INFO [http-nio-9999-exec-3] c.d.a.f.GetDetails [GetDetails.java:20] 
Inside getEncryption status.. for service code GetBill64
2024-09-11 13:11:10,536 DEBUG [http-nio-9999-exec-3] c.d.a.f.GetDetails [GetDetails.java:33] 
Encryption status is N
2024-09-11 13:11:10,537 INFO [http-nio-9999-exec-3] c.d.a.i.BaseInterceptor [BaseInterceptor.java:270] 
Inside DDOS filtering
2024-09-11 13:11:10,538 INFO [http-nio-9999-exec-3] c.d.a.f.GetDetails [GetDetails.java:170] 
Inside get error codes.
2024-09-11 13:11:10,623 INFO [http-nio-9999-exec-3] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:30] 
inside request param validation
2024-09-11 13:11:10,624 INFO [http-nio-9999-exec-3] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:76] 
In Timestamp validation
2024-09-11 13:11:10,637 INFO [http-nio-9999-exec-3] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:82] 
The timestamp difference is--
2024-09-11 13:11:10,639 INFO [http-nio-9999-exec-3] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:122] 
Validating auth key for consumerCode ESP with auth key 36997d562e054a318475c4025b913338
2024-09-11 13:11:10,640 INFO [http-nio-9999-exec-3] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-09-11 13:11:10,728 INFO [http-nio-9999-exec-3] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:124] 
Auth Key from DB for Consumer code ESP is  36997d562e054a318475c4025b913338
2024-09-11 13:11:10,729 INFO [http-nio-9999-exec-3] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-09-11 13:11:10,803 INFO [http-nio-9999-exec-3] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:175] 
Whitelisted
2024-09-11 13:11:10,803 INFO [http-nio-9999-exec-3] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:187] 
Inside is whiteListed
2024-09-11 13:11:10,896 DEBUG [http-nio-9999-exec-3] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:234] 
Consumer allowed for GetBill64
2024-09-11 13:11:10,900 INFO [http-nio-9999-exec-3] c.d.a.s.DiamServiceVer2 [DiamServiceVer2.java:491] 
Entered::AbstractEmailDelivery::getRestTemplate()
2024-09-11 13:11:10,902 DEBUG [http-nio-9999-exec-3] o.s.w.c.RestTemplate [CompositeLog.java:127] 
HTTP GET http://10.180.10.20/api/v1/GetBillb64?BID=52344070&ccbAccount=7566073616
2024-09-11 13:11:10,904 DEBUG [http-nio-9999-exec-3] o.s.w.c.RestTemplate [CompositeLog.java:127] 
Accept=[text/plain, application/json, application/*+json, */*]
2024-09-11 13:11:11,228 DEBUG [http-nio-9999-exec-3] o.s.w.c.RestTemplate [CompositeLog.java:127] 
Response 400 BAD_REQUEST
2024-09-11 13:11:11,233 ERROR [http-nio-9999-exec-3] c.d.a.s.DiamServiceVer2 [DiamServiceVer2.java:190] 
Error while calling getbilldata URL 400 Bad Request: ""Not a valid Request""
2024-09-11 13:11:11,241 DEBUG [http-nio-9999-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:275] 
Using 'application/json', given [*/*] and supported [application/json]
2024-09-11 13:11:11,241 DEBUG [http-nio-9999-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] 
Writing ["{"responseHeader":{"esbStatus":"SUCCESS", "targetStatus":" SUCCESS","esbResponseCode":"200" },"respo (truncated)..."]
2024-09-11 13:11:11,247 INFO [http-nio-9999-exec-3] c.d.a.p.AuditLogProcessor [AuditLogProcessor.java:31] 
Auditing records in AuditData Processor.
2024-09-11 13:11:11,366 INFO [pool-42-thread-1] c.d.a.p.AuditLogProcessor [AuditLogProcessor.java:83] 
Auditing in database.
2024-09-11 13:11:11,369 DEBUG [http-nio-9999-exec-3] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] 
Completed 200 OK
2024-09-11 13:11:18,658 DEBUG [http-nio-9999-exec-5] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] 
GET "/api/v2/GetBill64?BID=52&ccbAccount=7566073616", parameters={masked}
2024-09-11 13:11:18,659 DEBUG [http-nio-9999-exec-5] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:531] 
Mapped to com.diam.app.controller.DiamControllerVer2#getBill64(String, String, HttpServletRequest, HttpServletResponse, Map)
2024-09-11 13:11:18,659 INFO [http-nio-9999-exec-5] c.d.a.i.BaseInterceptor [BaseInterceptor.java:53] 
Inside prehandle
2024-09-11 13:11:18,659 INFO [http-nio-9999-exec-5] c.d.a.i.BaseInterceptor [BaseInterceptor.java:233] 
############Request Processing started for request-id ab and esbURL is /api/v2/GetBill64
2024-09-11 13:11:18,660 INFO [http-nio-9999-exec-5] c.d.a.f.GetDetails [GetDetails.java:20] 
Inside getEncryption status.. for service code GetBill64
2024-09-11 13:11:18,737 DEBUG [http-nio-9999-exec-5] c.d.a.f.GetDetails [GetDetails.java:33] 
Encryption status is N
2024-09-11 13:11:18,738 INFO [http-nio-9999-exec-5] c.d.a.i.BaseInterceptor [BaseInterceptor.java:270] 
Inside DDOS filtering
2024-09-11 13:11:18,739 INFO [http-nio-9999-exec-5] c.d.a.f.GetDetails [GetDetails.java:170] 
Inside get error codes.
2024-09-11 13:11:18,815 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:30] 
inside request param validation
2024-09-11 13:11:18,816 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:76] 
In Timestamp validation
2024-09-11 13:11:18,816 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:82] 
The timestamp difference is--
2024-09-11 13:11:18,816 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:122] 
Validating auth key for consumerCode ESP with auth key 36997d562e054a318475c4025b913338
2024-09-11 13:11:18,816 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-09-11 13:11:18,908 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:124] 
Auth Key from DB for Consumer code ESP is  36997d562e054a318475c4025b913338
2024-09-11 13:11:18,908 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-09-11 13:11:18,982 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:175] 
Whitelisted
2024-09-11 13:11:18,982 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:187] 
Inside is whiteListed
2024-09-11 13:11:19,047 DEBUG [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:234] 
Consumer allowed for GetBill64
2024-09-11 13:11:19,049 INFO [http-nio-9999-exec-5] c.d.a.s.DiamServiceVer2 [DiamServiceVer2.java:491] 
Entered::AbstractEmailDelivery::getRestTemplate()
2024-09-11 13:11:19,053 DEBUG [http-nio-9999-exec-5] o.s.w.c.RestTemplate [CompositeLog.java:127] 
HTTP GET http://10.180.10.20/api/v1/GetBillb64?BID=52&ccbAccount=7566073616
2024-09-11 13:11:19,054 DEBUG [http-nio-9999-exec-5] o.s.w.c.RestTemplate [CompositeLog.java:127] 
Accept=[text/plain, application/json, application/*+json, */*]
2024-09-11 13:11:19,294 DEBUG [http-nio-9999-exec-5] o.s.w.c.RestTemplate [CompositeLog.java:127] 
Response 400 BAD_REQUEST
2024-09-11 13:11:19,295 ERROR [http-nio-9999-exec-5] c.d.a.s.DiamServiceVer2 [DiamServiceVer2.java:190] 
Error while calling getbilldata URL 400 Bad Request: ""Not a valid Request""
2024-09-11 13:11:19,325 DEBUG [http-nio-9999-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:275] 
Using 'application/json', given [*/*] and supported [application/json]
2024-09-11 13:11:19,326 DEBUG [http-nio-9999-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] 
Writing ["{"responseHeader":{"esbStatus":"SUCCESS", "targetStatus":" SUCCESS","esbResponseCode":"200" },"respo (truncated)..."]
2024-09-11 13:11:19,329 INFO [http-nio-9999-exec-5] c.d.a.p.AuditLogProcessor [AuditLogProcessor.java:31] 
Auditing records in AuditData Processor.
2024-09-11 13:11:19,433 INFO [pool-43-thread-1] c.d.a.p.AuditLogProcessor [AuditLogProcessor.java:83] 
Auditing in database.
2024-09-11 13:11:19,445 DEBUG [http-nio-9999-exec-5] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] 
Completed 200 OK
2024-09-11 13:11:30,430 DEBUG [http-nio-9999-exec-7] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] 
GET "/api/v2/GetBill64?BIo=52&ccbAccount=7566073616", parameters={masked}
2024-09-11 13:11:30,431 DEBUG [http-nio-9999-exec-7] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:531] 
Mapped to com.diam.app.controller.DiamControllerVer2#getBill64(String, String, HttpServletRequest, HttpServletResponse, Map)
2024-09-11 13:11:30,431 INFO [http-nio-9999-exec-7] c.d.a.i.BaseInterceptor [BaseInterceptor.java:53] 
Inside prehandle
2024-09-11 13:11:30,432 INFO [http-nio-9999-exec-7] c.d.a.i.BaseInterceptor [BaseInterceptor.java:233] 
############Request Processing started for request-id ab and esbURL is /api/v2/GetBill64
2024-09-11 13:11:30,432 INFO [http-nio-9999-exec-7] c.d.a.f.GetDetails [GetDetails.java:20] 
Inside getEncryption status.. for service code GetBill64
2024-09-11 13:11:30,515 DEBUG [http-nio-9999-exec-7] c.d.a.f.GetDetails [GetDetails.java:33] 
Encryption status is N
2024-09-11 13:11:30,518 INFO [http-nio-9999-exec-7] c.d.a.i.BaseInterceptor [BaseInterceptor.java:270] 
Inside DDOS filtering
2024-09-11 13:11:30,518 INFO [http-nio-9999-exec-7] c.d.a.f.GetDetails [GetDetails.java:170] 
Inside get error codes.
2024-09-11 13:11:30,692 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:30] 
inside request param validation
2024-09-11 13:11:30,693 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:76] 
In Timestamp validation
2024-09-11 13:11:30,693 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:82] 
The timestamp difference is--
2024-09-11 13:11:30,693 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:122] 
Validating auth key for consumerCode ESP with auth key 36997d562e054a318475c4025b913338
2024-09-11 13:11:30,694 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-09-11 13:11:30,776 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:124] 
Auth Key from DB for Consumer code ESP is  36997d562e054a318475c4025b913338
2024-09-11 13:11:30,777 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-09-11 13:11:30,852 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:175] 
Whitelisted
2024-09-11 13:11:30,853 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:187] 
Inside is whiteListed
2024-09-11 13:11:30,924 DEBUG [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:234] 
Consumer allowed for GetBill64
2024-09-11 13:11:30,926 DEBUG [http-nio-9999-exec-7] o.s.w.m.HandlerMethod [InvocableHandlerMethod.java:231] 
Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.String> com.diam.app.controller.DiamControllerVer2.getBill64(java.lang.String,java.lang.String,jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse,java.util.Map<java.lang.String, java.lang.String>) throws java.lang.Exception: Required request parameter 'BID' for method parameter type String is not present
2024-09-11 13:11:30,927 DEBUG [http-nio-9999-exec-7] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:420] 
Using @ExceptionHandler com.diam.app.exception.GlobalExceptionHandler#handleMissingParams(MissingServletRequestParameterException)
2024-09-11 13:11:30,930 DEBUG [http-nio-9999-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:275] 
Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-09-11 13:11:30,931 DEBUG [http-nio-9999-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] 
Writing ["<?xml version="1.0" encoding="UTF-8" ?><response><responseHeader><esbStatus>FAILURE</esbStatus></res (truncated)..."]
2024-09-11 13:11:30,933 DEBUG [http-nio-9999-exec-7] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java:179] 
Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'BID' for method parameter type String is not present]
2024-09-11 13:11:30,934 INFO [http-nio-9999-exec-7] c.d.a.p.AuditLogProcessor [AuditLogProcessor.java:31] 
Auditing records in AuditData Processor.
2024-09-11 13:11:31,040 INFO [pool-44-thread-1] c.d.a.p.AuditLogProcessor [AuditLogProcessor.java:83] 
Auditing in database.
2024-09-11 13:11:31,049 DEBUG [http-nio-9999-exec-7] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] 
Completed 400 BAD_REQUEST
