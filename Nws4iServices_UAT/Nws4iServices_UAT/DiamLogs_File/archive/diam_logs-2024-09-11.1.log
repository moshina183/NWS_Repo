2024-09-11 10:45:53,520 DEBUG [http-nio-9999-exec-4] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] 
GET "/api/v2/InquiryPayment?TrackID=41928E20070518285700&Gateway=CS", parameters={masked}
2024-09-11 10:45:53,527 DEBUG [http-nio-9999-exec-4] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:531] 
Mapped to com.diam.app.controller.DiamControllerVer2#inquiryPayment(String, String, HttpServletRequest, HttpServletResponse, Map)
2024-09-11 10:45:53,528 INFO [http-nio-9999-exec-4] c.d.a.i.BaseInterceptor [BaseInterceptor.java:53] 
Inside prehandle
2024-09-11 10:45:53,528 INFO [http-nio-9999-exec-4] c.d.a.i.BaseInterceptor [BaseInterceptor.java:233] 
############Request Processing started for request-id ab and esbURL is /api/v2/InquiryPayment
2024-09-11 10:45:53,532 INFO [http-nio-9999-exec-4] c.d.a.f.GetDetails [GetDetails.java:20] 
Inside getEncryption status.. for service code InquiryPayment
2024-09-11 10:45:53,616 DEBUG [http-nio-9999-exec-4] c.d.a.f.GetDetails [GetDetails.java:33] 
Encryption status is N
2024-09-11 10:45:53,617 INFO [http-nio-9999-exec-4] c.d.a.i.BaseInterceptor [BaseInterceptor.java:270] 
Inside DDOS filtering
2024-09-11 10:45:53,617 INFO [http-nio-9999-exec-4] c.d.a.f.GetDetails [GetDetails.java:170] 
Inside get error codes.
2024-09-11 10:45:53,727 INFO [http-nio-9999-exec-4] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:30] 
inside request param validation
2024-09-11 10:45:53,728 INFO [http-nio-9999-exec-4] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:76] 
In Timestamp validation
2024-09-11 10:45:53,728 INFO [http-nio-9999-exec-4] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:82] 
The timestamp difference is--
2024-09-11 10:45:53,728 ERROR [http-nio-9999-exec-4] c.d.a.i.BaseInterceptor [BaseInterceptor.java:334] 
Invalid timestamp
2024-09-11 10:45:53,729 INFO [http-nio-9999-exec-4] c.d.a.p.ExceptionProcessor [ExceptionProcessor.java:28] 
Auditing records in AuditDataProcessor.
2024-09-11 10:45:54,028 INFO [pool-4-thread-1] c.d.a.p.ExceptionProcessor [ExceptionProcessor.java:80] 
Auditing in database.
2024-09-11 10:45:54,031 DEBUG [http-nio-9999-exec-4] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] 
Completed 200 OK
2024-09-11 10:46:04,202 DEBUG [http-nio-9999-exec-5] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] 
GET "/api/v2/InquiryPayment?TrackID=41928E20070518285700&Gateway=CS", parameters={masked}
2024-09-11 10:46:04,203 DEBUG [http-nio-9999-exec-5] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:531] 
Mapped to com.diam.app.controller.DiamControllerVer2#inquiryPayment(String, String, HttpServletRequest, HttpServletResponse, Map)
2024-09-11 10:46:04,203 INFO [http-nio-9999-exec-5] c.d.a.i.BaseInterceptor [BaseInterceptor.java:53] 
Inside prehandle
2024-09-11 10:46:04,203 INFO [http-nio-9999-exec-5] c.d.a.i.BaseInterceptor [BaseInterceptor.java:233] 
############Request Processing started for request-id ab and esbURL is /api/v2/InquiryPayment
2024-09-11 10:46:04,204 INFO [http-nio-9999-exec-5] c.d.a.f.GetDetails [GetDetails.java:20] 
Inside getEncryption status.. for service code InquiryPayment
2024-09-11 10:46:04,285 DEBUG [http-nio-9999-exec-5] c.d.a.f.GetDetails [GetDetails.java:33] 
Encryption status is N
2024-09-11 10:46:04,287 INFO [http-nio-9999-exec-5] c.d.a.i.BaseInterceptor [BaseInterceptor.java:270] 
Inside DDOS filtering
2024-09-11 10:46:04,287 INFO [http-nio-9999-exec-5] c.d.a.f.GetDetails [GetDetails.java:170] 
Inside get error codes.
2024-09-11 10:46:04,374 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:30] 
inside request param validation
2024-09-11 10:46:04,374 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:76] 
In Timestamp validation
2024-09-11 10:46:04,375 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:82] 
The timestamp difference is--
2024-09-11 10:46:04,375 ERROR [http-nio-9999-exec-5] c.d.a.i.BaseInterceptor [BaseInterceptor.java:334] 
Invalid timestamp
2024-09-11 10:46:04,376 INFO [http-nio-9999-exec-5] c.d.a.p.ExceptionProcessor [ExceptionProcessor.java:28] 
Auditing records in AuditDataProcessor.
2024-09-11 10:46:04,480 INFO [pool-5-thread-1] c.d.a.p.ExceptionProcessor [ExceptionProcessor.java:80] 
Auditing in database.
2024-09-11 10:46:04,484 DEBUG [http-nio-9999-exec-5] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] 
Completed 200 OK
2024-09-11 10:46:36,959 DEBUG [http-nio-9999-exec-7] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] 
GET "/api/v2/InquiryPayment?TrackID=41928E20070518285700&Gateway=CS", parameters={masked}
2024-09-11 10:46:36,960 DEBUG [http-nio-9999-exec-7] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:531] 
Mapped to com.diam.app.controller.DiamControllerVer2#inquiryPayment(String, String, HttpServletRequest, HttpServletResponse, Map)
2024-09-11 10:46:36,960 INFO [http-nio-9999-exec-7] c.d.a.i.BaseInterceptor [BaseInterceptor.java:53] 
Inside prehandle
2024-09-11 10:46:36,961 INFO [http-nio-9999-exec-7] c.d.a.i.BaseInterceptor [BaseInterceptor.java:233] 
############Request Processing started for request-id ab and esbURL is /api/v2/InquiryPayment
2024-09-11 10:46:36,961 INFO [http-nio-9999-exec-7] c.d.a.f.GetDetails [GetDetails.java:20] 
Inside getEncryption status.. for service code InquiryPayment
2024-09-11 10:46:37,052 DEBUG [http-nio-9999-exec-7] c.d.a.f.GetDetails [GetDetails.java:33] 
Encryption status is N
2024-09-11 10:46:37,054 INFO [http-nio-9999-exec-7] c.d.a.i.BaseInterceptor [BaseInterceptor.java:270] 
Inside DDOS filtering
2024-09-11 10:46:37,055 INFO [http-nio-9999-exec-7] c.d.a.f.GetDetails [GetDetails.java:170] 
Inside get error codes.
2024-09-11 10:46:37,161 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:30] 
inside request param validation
2024-09-11 10:46:37,161 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:76] 
In Timestamp validation
2024-09-11 10:46:37,162 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:82] 
The timestamp difference is--
2024-09-11 10:46:37,162 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:122] 
Validating auth key for consumerCode ESP with auth key 36997d562e054a318475c4025b913338
2024-09-11 10:46:37,162 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-09-11 10:46:37,255 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:124] 
Auth Key from DB for Consumer code ESP is  36997d562e054a318475c4025b913338
2024-09-11 10:46:37,256 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-09-11 10:46:37,344 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:175] 
Whitelisted
2024-09-11 10:46:37,344 INFO [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:187] 
Inside is whiteListed
2024-09-11 10:46:37,431 DEBUG [http-nio-9999-exec-7] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:234] 
Consumer allowed for InquiryPayment
2024-09-11 10:46:37,480 INFO [http-nio-9999-exec-7] c.d.a.s.DiamServiceVer2 [DiamServiceVer2.java:491] 
Entered::AbstractEmailDelivery::getRestTemplate()
2024-09-11 10:46:37,537 DEBUG [http-nio-9999-exec-7] o.s.w.c.RestTemplate [CompositeLog.java:127] 
HTTP GET http://10.180.10.20/api/v1/InquiryPayment?TrackID=41928E20070518285700&Gateway=CS
2024-09-11 10:46:37,551 DEBUG [http-nio-9999-exec-7] i.m.c.u.i.l.InternalLoggerFactory [InternalLoggerFactory.java:59] 
Using SLF4J as the default logging framework
2024-09-11 10:46:37,557 DEBUG [http-nio-9999-exec-7] o.s.w.c.RestTemplate [CompositeLog.java:127] 
Accept=[text/plain, application/json, application/*+json, */*]
2024-09-11 10:46:40,166 DEBUG [http-nio-9999-exec-7] o.s.w.c.RestTemplate [CompositeLog.java:127] 
Response 200 OK
2024-09-11 10:46:40,171 DEBUG [http-nio-9999-exec-7] o.s.w.c.RestTemplate [CompositeLog.java:127] 
Reading to [java.lang.String] as "application/json;charset=utf-8"
2024-09-11 10:46:40,209 DEBUG [http-nio-9999-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:275] 
Using 'application/json', given [*/*] and supported [application/json]
2024-09-11 10:46:40,211 DEBUG [http-nio-9999-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] 
Writing ["{"responseHeader":{"esbStatus":"SUCCESS", "targetStatus":" SUCCESS","esbResponseCode":"200" },"respo (truncated)..."]
2024-09-11 10:46:40,218 INFO [http-nio-9999-exec-7] c.d.a.p.AuditLogProcessor [AuditLogProcessor.java:31] 
Auditing records in AuditData Processor.
2024-09-11 10:46:40,367 INFO [pool-6-thread-1] c.d.a.p.AuditLogProcessor [AuditLogProcessor.java:83] 
Auditing in database.
2024-09-11 10:46:40,369 DEBUG [http-nio-9999-exec-7] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] 
Completed 200 OK
2024-09-11 10:46:46,114 DEBUG [http-nio-9999-exec-8] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] 
GET "/api/v2/InquiryPayment?TrackId=41928E20070518285700&Gateway=CS", parameters={masked}
2024-09-11 10:46:46,115 DEBUG [http-nio-9999-exec-8] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:531] 
Mapped to com.diam.app.controller.DiamControllerVer2#inquiryPayment(String, String, HttpServletRequest, HttpServletResponse, Map)
2024-09-11 10:46:46,117 INFO [http-nio-9999-exec-8] c.d.a.i.BaseInterceptor [BaseInterceptor.java:53] 
Inside prehandle
2024-09-11 10:46:46,117 INFO [http-nio-9999-exec-8] c.d.a.i.BaseInterceptor [BaseInterceptor.java:233] 
############Request Processing started for request-id ab and esbURL is /api/v2/InquiryPayment
2024-09-11 10:46:46,118 INFO [http-nio-9999-exec-8] c.d.a.f.GetDetails [GetDetails.java:20] 
Inside getEncryption status.. for service code InquiryPayment
2024-09-11 10:46:46,202 DEBUG [http-nio-9999-exec-8] c.d.a.f.GetDetails [GetDetails.java:33] 
Encryption status is N
2024-09-11 10:46:46,203 INFO [http-nio-9999-exec-8] c.d.a.i.BaseInterceptor [BaseInterceptor.java:270] 
Inside DDOS filtering
2024-09-11 10:46:46,203 INFO [http-nio-9999-exec-8] c.d.a.f.GetDetails [GetDetails.java:170] 
Inside get error codes.
2024-09-11 10:46:46,298 INFO [http-nio-9999-exec-8] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:30] 
inside request param validation
2024-09-11 10:46:46,298 INFO [http-nio-9999-exec-8] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:76] 
In Timestamp validation
2024-09-11 10:46:46,299 INFO [http-nio-9999-exec-8] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:82] 
The timestamp difference is--
2024-09-11 10:46:46,299 INFO [http-nio-9999-exec-8] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:122] 
Validating auth key for consumerCode ESP with auth key 36997d562e054a318475c4025b913338
2024-09-11 10:46:46,299 INFO [http-nio-9999-exec-8] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-09-11 10:46:46,394 INFO [http-nio-9999-exec-8] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:124] 
Auth Key from DB for Consumer code ESP is  36997d562e054a318475c4025b913338
2024-09-11 10:46:46,395 INFO [http-nio-9999-exec-8] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-09-11 10:46:46,469 INFO [http-nio-9999-exec-8] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:175] 
Whitelisted
2024-09-11 10:46:46,470 INFO [http-nio-9999-exec-8] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:187] 
Inside is whiteListed
2024-09-11 10:46:46,557 DEBUG [http-nio-9999-exec-8] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:234] 
Consumer allowed for InquiryPayment
2024-09-11 10:46:46,566 DEBUG [http-nio-9999-exec-8] o.s.w.m.HandlerMethod [InvocableHandlerMethod.java:231] 
Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<java.lang.String> com.diam.app.controller.DiamControllerVer2.inquiryPayment(java.lang.String,java.lang.String,jakarta.servlet.http.HttpServletRequest,jakarta.servlet.http.HttpServletResponse,java.util.Map<java.lang.String, java.lang.String>) throws java.lang.Exception: Required request parameter 'TrackID' for method parameter type String is not present
2024-09-11 10:46:46,569 DEBUG [http-nio-9999-exec-8] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [ExceptionHandlerExceptionResolver.java:420] 
Using @ExceptionHandler com.diam.app.exception.GlobalExceptionHandler#handleMissingParams(MissingServletRequestParameterException)
2024-09-11 10:46:46,579 DEBUG [http-nio-9999-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:275] 
Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-09-11 10:46:46,580 DEBUG [http-nio-9999-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] 
Writing ["<?xml version="1.0" encoding="UTF-8" ?><response><responseHeader><esbStatus>FAILURE</esbStatus></res (truncated)..."]
2024-09-11 10:46:46,585 DEBUG [http-nio-9999-exec-8] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver [AbstractHandlerExceptionResolver.java:179] 
Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'TrackID' for method parameter type String is not present]
2024-09-11 10:46:46,586 INFO [http-nio-9999-exec-8] c.d.a.p.AuditLogProcessor [AuditLogProcessor.java:31] 
Auditing records in AuditData Processor.
2024-09-11 10:46:46,687 INFO [pool-7-thread-1] c.d.a.p.AuditLogProcessor [AuditLogProcessor.java:83] 
Auditing in database.
2024-09-11 10:46:46,693 DEBUG [http-nio-9999-exec-8] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1138] 
Completed 400 BAD_REQUEST
