2024-08-06 10:08:18,288 DEBUG [http-nio-9999-exec-5] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] 
POST "/api/v1/getsocialbenefitdata", parameters={}
2024-08-06 10:08:18,296 DEBUG [http-nio-9999-exec-5] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:531] 
Mapped to com.diam.app.controller.DiamControllerVer1#getSocialBenefitData(Envelope, HttpServletRequest, HttpServletResponse)
2024-08-06 10:08:18,296 INFO [http-nio-9999-exec-5] c.d.a.i.BaseInterceptor [BaseInterceptor.java:51] 
Inside prehandle
2024-08-06 10:08:18,297 INFO [http-nio-9999-exec-5] c.d.a.i.BaseInterceptor [BaseInterceptor.java:70] 
############Request Processing started for request-id ab and esbURL is /api/v1/getsocialbenefitdata
2024-08-06 10:08:18,298 INFO [http-nio-9999-exec-5] c.d.a.f.GetDetails [GetDetails.java:20] 
Inside getEncryption status.. for service code getsocialbenefitdata
2024-08-06 10:08:18,411 DEBUG [http-nio-9999-exec-5] c.d.a.f.GetDetails [GetDetails.java:33] 
Encryption status is N
2024-08-06 10:08:18,413 INFO [http-nio-9999-exec-5] c.d.a.i.BaseInterceptor [BaseInterceptor.java:104] 
Inside DDOS filtering
2024-08-06 10:08:18,413 INFO [http-nio-9999-exec-5] c.d.a.f.GetDetails [GetDetails.java:170] 
Inside get error codes.
2024-08-06 10:08:18,473 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:30] 
inside request param validation
2024-08-06 10:08:18,473 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:76] 
In Timestamp validation
2024-08-06 10:08:18,474 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:82] 
The timestamp difference is--
2024-08-06 10:08:18,474 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:122] 
Validating auth key for consumerCode ESP with auth key 36997d562e054a318475c4025b913338
2024-08-06 10:08:18,474 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-08-06 10:08:18,538 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:124] 
Auth Key from DB for Consumer code ESP is  36997d562e054a318475c4025b913338
2024-08-06 10:08:18,540 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-08-06 10:08:18,598 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:175] 
Whitelisted
2024-08-06 10:08:18,599 INFO [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:187] 
Inside is whiteListed
2024-08-06 10:08:18,659 DEBUG [http-nio-9999-exec-5] c.d.a.f.AuthenticationFilter [AuthenticationFilter.java:234] 
Consumer allowed for getsocialbenefitdata
2024-08-06 10:08:18,675 INFO [http-nio-9999-exec-5] c.d.a.c.DiamControllerVer1 [DiamControllerVer1.java:396] 
Entered::DiamControllerVer1::getRestTemplate()
2024-08-06 10:08:18,678 DEBUG [http-nio-9999-exec-5] o.s.w.c.RestTemplate [CompositeLog.java:127] 
HTTP POST https://proxy-tst.mtcit.gov.om/ws/MOSD/MOSD_WS/services/CallWS
2024-08-06 10:08:18,678 DEBUG [http-nio-9999-exec-5] o.s.w.c.RestTemplate [CompositeLog.java:127] 
Accept=[text/plain, application/json, application/*+json, */*]
2024-08-06 10:08:18,679 DEBUG [http-nio-9999-exec-5] o.s.w.c.RestTemplate [CompositeLog.java:127] 
Writing [<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="http://ws.mosd">
   <soapenv:Header/>
   <soapenv:Body>
      <ws:getSocialBenefitData>
         <!--Optional:-->
         <ws:username>DIAM</ws:username>
         <!--Optional:-->
         <ws:password>DIAM82019</ws:password>
         <!--Optional:-->
         <ws:civilid>9460828</ws:civilid>
      </ws:getSocialBenefitData>
   </soapenv:Body>
</soapenv:Envelope>] as "text/xml;charset=UTF-8"
2024-08-06 10:08:18,679 INFO [http-nio-9999-exec-5] c.d.a.c.LoggingRequestInterceptor [LoggingRequestInterceptor.java:30] 
===========================request begin================================================
2024-08-06 10:08:18,679 INFO [http-nio-9999-exec-5] c.d.a.c.LoggingRequestInterceptor [LoggingRequestInterceptor.java:31] 
URI         : https://proxy-tst.mtcit.gov.om/ws/MOSD/MOSD_WS/services/CallWS
2024-08-06 10:08:18,679 INFO [http-nio-9999-exec-5] c.d.a.c.LoggingRequestInterceptor [LoggingRequestInterceptor.java:32] 
Method      : POST
2024-08-06 10:08:18,679 INFO [http-nio-9999-exec-5] c.d.a.c.LoggingRequestInterceptor [LoggingRequestInterceptor.java:33] 
Headers     : [Accept:"text/plain, application/json, application/*+json, */*", SOAPAction:"urn:getSocialBenefitData", Content-Type:"text/xml;charset=UTF-8", Authorization:"Basic RElBTSA6RElBTTgyMDE5", Content-Length:"464"]
2024-08-06 10:08:18,679 INFO [http-nio-9999-exec-5] c.d.a.c.LoggingRequestInterceptor [LoggingRequestInterceptor.java:34] 
Request body: <soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="http://ws.mosd">
   <soapenv:Header/>
   <soapenv:Body>
      <ws:getSocialBenefitData>
         <!--Optional:-->
         <ws:username>DIAM</ws:username>
         <!--Optional:-->
         <ws:password>DIAM82019</ws:password>
         <!--Optional:-->
         <ws:civilid>9460828</ws:civilid>
      </ws:getSocialBenefitData>
   </soapenv:Body>
</soapenv:Envelope>
2024-08-06 10:08:18,679 INFO [http-nio-9999-exec-5] c.d.a.c.LoggingRequestInterceptor [LoggingRequestInterceptor.java:35] 
==========================request end================================================
2024-08-06 10:08:18,695 DEBUG [http-nio-9999-exec-5] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1109] 
Failed to complete request: org.springframework.web.client.ResourceAccessException: I/O error on POST request for "https://proxy-tst.mtcit.gov.om/ws/MOSD/MOSD_WS/services/CallWS": Remote host terminated the handshake
2024-08-06 10:08:18,696 ERROR [http-nio-9999-exec-5] o.a.c.c.C.[.[.[.[dispatcherServlet] [DirectJDKLog.java:175] 
Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.web.client.ResourceAccessException: I/O error on POST request for "https://proxy-tst.mtcit.gov.om/ws/MOSD/MOSD_WS/services/CallWS": Remote host terminated the handshake] with root cause
java.io.EOFException: SSL peer shut down incorrectly
	at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:489)
	at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:478)
	at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)
	at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510)
	at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)
	at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)
	at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:589)
	at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)
	at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:142)
	at org.springframework.http.client.SimpleClientHttpRequest.executeInternal(SimpleClientHttpRequest.java:79)
	at org.springframework.http.client.AbstractStreamingClientHttpRequest.executeInternal(AbstractStreamingClientHttpRequest.java:70)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.BufferingClientHttpRequestWrapper.executeInternal(BufferingClientHttpRequestWrapper.java:77)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:112)
	at com.diam.app.core.LoggingRequestInterceptor.intercept(LoggingRequestInterceptor.java:24)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:88)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:72)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:889)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:790)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:672)
	at com.diam.app.controller.DiamControllerVer1.getSocialBenefitData(DiamControllerVer1.java:193)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:389)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
2024-08-06 10:08:18,697 DEBUG [http-nio-9999-exec-5] o.s.w.s.DispatcherServlet [LogFormatUtils.java:120] 
"ERROR" dispatch for POST "/error", parameters={}
2024-08-06 10:08:18,698 DEBUG [http-nio-9999-exec-5] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:531] 
Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-08-06 10:08:18,698 INFO [http-nio-9999-exec-5] c.d.a.i.BaseInterceptor [BaseInterceptor.java:51] 
Inside prehandle
2024-08-06 10:08:18,699 DEBUG [http-nio-9999-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:275] 
Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-08-06 10:08:18,699 DEBUG [http-nio-9999-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:120] 
Writing [{timestamp=Tue Aug 06 10:08:18 GST 2024, status=500, error=Internal Server Error, path=/api/v1/getso (truncated)...]
2024-08-06 10:08:18,701 DEBUG [http-nio-9999-exec-5] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1135] 
Exiting from "ERROR" dispatch, status 500
2024-08-06 10:08:42,154 INFO [RMI TCP Connection(9)-127.0.0.1] o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [SpringApplicationAdminMXBeanRegistrar.java:159] 
Application shutdown requested.
2024-08-06 10:08:42,155 DEBUG [RMI TCP Connection(9)-127.0.0.1] o.s.b.a.ApplicationAvailabilityBean [ApplicationAvailabilityBean.java:77] 
Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2024-08-06 10:08:42,155 DEBUG [RMI TCP Connection(9)-127.0.0.1] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:1134] 
Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@7689ddef, started on Tue Aug 06 10:07:03 GST 2024
2024-08-06 10:08:42,157 DEBUG [RMI TCP Connection(9)-127.0.0.1] o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java:478] 
Stopping beans in phase 2147483647
2024-08-06 10:08:42,158 DEBUG [RMI TCP Connection(9)-127.0.0.1] o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java:350] 
Bean 'applicationTaskExecutor' completed its stop procedure
2024-08-06 10:08:42,158 DEBUG [RMI TCP Connection(9)-127.0.0.1] o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java:478] 
Stopping beans in phase 2147482623
2024-08-06 10:08:42,159 DEBUG [RMI TCP Connection(9)-127.0.0.1] o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java:350] 
Bean 'webServerGracefulShutdown' completed its stop procedure
2024-08-06 10:08:42,160 DEBUG [RMI TCP Connection(9)-127.0.0.1] o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java:478] 
Stopping beans in phase 2147481599
2024-08-06 10:08:42,160 INFO [RMI TCP Connection(9)-127.0.0.1] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] 
Stopping ProtocolHandler ["http-nio-9999"]
2024-08-06 10:08:42,249 DEBUG [RMI TCP Connection(9)-127.0.0.1] o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java:350] 
Bean 'webServerStartStop' completed its stop procedure
2024-08-06 10:08:42,249 DEBUG [RMI TCP Connection(9)-127.0.0.1] o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java:478] 
Stopping beans in phase -2147483647
2024-08-06 10:08:42,249 DEBUG [RMI TCP Connection(9)-127.0.0.1] o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java:350] 
Bean 'springBootLoggingLifecycle' completed its stop procedure
2024-08-06 10:08:42,251 DEBUG [RMI TCP Connection(9)-127.0.0.1] o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java:468] 
Unregistering JMX-exposed beans on shutdown
2024-08-06 10:08:42,251 DEBUG [RMI TCP Connection(9)-127.0.0.1] o.s.s.c.ThreadPoolTaskExecutor [ExecutorConfigurationSupport.java:328] 
Shutting down ExecutorService 'applicationTaskExecutor'
